# 一些编码格式的相关说明

> `ANSI`，`ASCII`，`GBK`，`GB2312`，`UTF-8`，`UTF-16`，`unicode`

---

[TOC]

---

## 0. 说明

+ 查询编码的网站
    + https://www.haomeili.net/Code/DaQuan
+ 资料来源网络



## 1. ASCII

+  `American Standard Code for Information Interchange`
+ 美国信息交换标准代码
+  `ASCII` 码使用指定的 `7` 位或 `8` 位二进制数组合来表示 `128` 或 `256` 种可能的字符
+ 标准 `ASCII` 码：`0~127`，`7` 位
    +  `0~31` 及 `127 ` 是 **控制字符** 或 **通信专用字符** 
        + [控制字符](https://baike.baidu.com/item/控制字符)（百度百科）
        + 共 `33` 个
    +  其余为 **可显示字符** 
    + 注意最高位保留，在通讯中可以用作 **奇偶校验**
+ 不同国家对剩下的 `128` 个空闲位置进行编码，形成了不同的编码格式，但是仍然是 `8bit`
+ 所有不同国家在 `128~255` 上有所区别



## 2. GB2312 与  EUC-CN 

### 2.1 GB2312

+ 信息交换用汉字编码字符集
+ 基本集共收入 **汉字** `6763` 个和 **非汉字图形字符** `682` 个
    +  其中 **一级汉字** `3755` 个，**二级汉字** `3008`个 
    + **非汉字图形字符** 包括 **拉丁字母**、**希腊字母**、**日文平假名及片假名字母**、**俄语西里尔字母**等
+ 整个字符集分成 `94` 个区，每区有 `94` 个位
    + 每个区位上只有一个字符，因此可用所在的区和位来对汉字进行编码，称为 **区位码**
        + `01-09` 区收录除汉字外的 `682` 个字符
        + `10-15` 区为**空白区**，没有使用
        + `16-55` 区收录 `3755` 个一级汉字，按**拼音**排序
        + `56-87` 区收录 `3008` 个二级汉字，按**部首/笔画**排序
        + `88-94` 区为**空白区**，没有使用
    



### 2.2 EUC-CN

+ `EUC`：`Extended Unix Code`
    + 一个使用 `8` 位编码来表示字符的方法
    + 基于 `ISO/IEC 2022` 的 `7` 位编码标准，因此单字节的编码空间为 `94`，双字节的编码空间（区位码）为`94x94`。把每个区位加上 `0xA0` 来表示，以便符合 `ISO 2022`。
    + `EUC` 定义了4个单独的码集（`code set`）
        + 码集0总是对应于 `7` 位的 `ASCII`（或其它的各国定义的 `ISO 646`），包括了 `ISO 2022` 定义的 `C0` 与 `G0` 空间的值。码集 `1`、` 2`、`3`表示 `G1` 空间的值。
            + 码集 `0` 总是编码为**单字节**
            + 码集 `1` 表示一些未经修饰（`unadorned`）的字符
            + 码集 `2` 的字符编码以 `0x8E`（属于`C1`控制字符，或称 `SS2`）为第一字节
            + 码集 `3` 的字符编码以 `0x8F`（另一个属于 `C1` 的控制字符，或称 `SS3`）为第一字节
        + 码集 `2`、`3` 总是编码为至少 `2` 个字节，码集 `1` 编码为 `1-3` 个字节
+ `EUC-CN` 是 `GB2312` 最常用的表示方法。浏览器编码表上的 `GB2312`，通常都是指 `EUC-CN` 表示法
+ **说明**
    + **半角**： 一个小于 `127` 的字符的意义与原来相同
    + **全角**： 两个大于 `127` 的字符连在一起时，就表示一个汉字
        + 前面的一个字节（他称之为高字节）从 `0xA1` 到 `0xF7`
        + 后面一个字节（低字节）从 `0xA1` 到 `0xFE`
+ **码集 0**
    +  `ASCII` 字符，范围为 `0x21-0x7E`，直接用单字节表示（和 `ASCII` 码相同）
+ **码集 1**
    + `GB2312`字符使用两个字节来表示 
    + 第一位字节使用 `0xA1-0xF7`（`87`）
    + 第二位字节使用 `0xA1-0xFE `（`94`）
+  `GB2312` 没有使用码集 `2`、码集 `3` 部分
+ 一个例子（加 `A0`）
    + **啊** 的区位码 `16,01`（`0x10,0x1`）
    + **啊** 的 `EUC-CN` 编码 `B0A1`



## 3. GBK

+ `GBK` 对 `GB2312` 做了扩充
+ `GBK` 亦采用 **双字节** 表示，总体编码范围为 `8140-FEFE`，首字节在 `81-FE` 之间，尾字节在 `40-FE` 之间，剔除 `xx7F` 一条线。总计 `23940` 个码位，共收入 `21886` 个汉字和图形符号，其中汉字（包括部首和构件）`21003` 个，图形符号 `883` 个。
+ **分区**
    + **汉字区**
        + `GB 2312` 汉字区
            + 即 `GBK/2:B0A1-F7FE`：收录 `GB 2312` 汉字 `6763` 个，**按原顺序排列**
        + `GB 13000.1` 扩充汉字区
            + `GBK/3:8140-A0FE`：收录 `GB 13000.1` 中的 `CJK` 汉字 `6080` 个
            + `GBK/4:AA40-FEA0`：收录 `CJK` 汉字和增补的汉字 `8160` 个
                + `CJK` 汉字在前，按 `UCS` 代码大小排列
                + 增补的汉字（包括部首和构件）在后，按《康熙字典》的页码/字位排列
    + **图形符号区**
        + `GB 2312` 非汉字符号区
            + 即 `GBK/1:A1A1-A9FE`
                + 其中除 `GB 2312` 的符号外，还有 `10` 个小写罗马数字和 `GB 12345` 增补的符号
                + 计符号 `717` 个
        + `GB 13000.1` 扩充非汉字区
            + 即 `GBK/5:A840-A9A0`
                + `BIG-5` 非汉字符号、结构符和 `"○"` 排列在此区。计符号 `166` 个
    + **用户自定义区**：分为 `(1)(2)(3)` 三个小区
        + `(1)` `AAA1-AFFE`，码位 `564` 个
        + `(2)` `F8A1-FEFE`，码位 `658` 个
        + `(3)` `A140-A7A0`，码位 `672` 个
            + 第 `(3)` 区尽管对用户开放，但限制使用，因为不排除未来在此区域增补新字符的可能性



## 4. **GB18030** 

+ `GBK` 的扩展
+ `GB18030-2005`《信息技术中文编码字符集》是我国制订的以汉字为主并包含多种我国**少数民族文字**（如藏、蒙古、傣、彝、朝鲜、维吾尔文等）的超大型中文编码字符集强制性标准，其中收入汉字 `70000 `余个



## 5. Unicode

+ `Unicode` 把所有语言都统一到一套编码里，这样就不会再有乱码问题了 
+ `Unicode` 通常用**两个字节表示一个字符**
    + 原有的英文编码从单字节变成双字节，只需要把**高字节全部填为 `0` **就可以 
+ `Unicode` 也是一套字符集



## 6. UTF-8

+ `Unicode` 的一种实现
+ `1-4` 个字节

| Unicode编码(十六进制) | UTF-8 字节流(二进制) |
| ------------------------- | ------------------------ |
| 000000-00007F | 0xxxxxxx |
| 000080-0007FF | 110xxxxx 10xxxxxx |
| 000800-00FFFF | 1110xxxx 10xxxxxx 10xxxxxx |
| 010000-10FFFF | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx|



## 7. UTF-16 

+ `Unicode` 的一种实现
+ `2/4` 个字节

| Unicode编码(十六进制) | UTF-16 字节流(二进制) |
| ------------------------- | ------------------------ |
| 000000-00FFFF | xxxxxxxx xxxxxxxx |
| 010000-10FFFF | 110110yy yyyyyyyy 110111xx xxxxxxxx |

+ **代理**（**特殊字符**）：**保留代码点，不表示任意字符**
+ `110110xx xxxxxxxx`（`0xd800` - `0xdbff`）为高位代理（`High Surrogate`）
    + `110111xx xxxxxxxx`（`0xdc00` - `0xdfff`） 为低位代理（`Low Surrogate`）
    
+ 转化
    + 如果代码点位于 `0x000000` - `0x00ffff`，直接进行二进制编码，位数不够的左边补 `0`
    + 如果代码点位于 `0x010000` - `0x10ffff`，则：
        + 代码点减去 `0x10000`，会得到一个位于 `0x000000` 和 `0x0fffff` 之间的数字
        + 这个数字转换为 12 位二进制数，位数不够的，左边充 0，记作：`yyyy yyyy yyxx xxxx xxxx`。
        + 取出 `yy yyyyyyyy`，并加上 `11011000 00000000`(`0xD800`)，得到高位代理
        + 取出 `xx xxxxxxxx`，并加上 `11011100 00000000`(`0xDC00`)，得到低位代理
        + 高位代理和低位代理相连，得到 `110110yy yyyyyyyy 110111xx xxxxxxxx`



## 8. UTF-32 

+ `Unicode` 的一种实现
+ `4` 个字节
+ 不够高位补 `0`

| Unicode编码(十六进制) | UTF-16 字节流(二进制) |
| ------------------------- | ------------------------ |
| 000000-10FFFF | xxxxxxxx xxxxxxxx xxxxxxxx xxxxxxxx|

## 9. 代码转换

+ [FormatChange.java](https://github.com/banbao990/Java/blob/master/File/FormatChange/FormatChange.java)